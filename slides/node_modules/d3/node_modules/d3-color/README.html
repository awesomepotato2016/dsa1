<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title># d3-color</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../../../../../markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="d3-color">d3-color</h1>
<p>Even though your browser understands a lot about colors, it doesn’t
offer much help in manipulating colors through JavaScript. The d3-color
module therefore provides representations for various color spaces,
allowing specification, conversion and manipulation. (Also see <a
href="https://github.com/d3/d3-interpolate">d3-interpolate</a> for color
interpolation.)</p>
<p>For example, take the color named “steelblue”:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> c <span class="op">=</span> d3<span class="op">.</span><span class="fu">color</span>(<span class="st">&quot;steelblue&quot;</span>)<span class="op">;</span> <span class="co">// {r: 70, g: 130, b: 180, opacity: 1}</span></span></code></pre></div>
<p>Let’s try converting it to HSL:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> c <span class="op">=</span> d3<span class="op">.</span><span class="fu">hsl</span>(<span class="st">&quot;steelblue&quot;</span>)<span class="op">;</span> <span class="co">// {h: 207.27…, s: 0.44, l: 0.4902…, opacity: 1}</span></span></code></pre></div>
<p>Now rotate the hue by 90°, bump up the saturation, and format as a
string for CSS:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>c<span class="op">.</span><span class="at">h</span> <span class="op">+=</span> <span class="dv">90</span><span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>c<span class="op">.</span><span class="at">s</span> <span class="op">+=</span> <span class="fl">0.2</span><span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>c <span class="op">+</span> <span class="st">&quot;&quot;</span><span class="op">;</span> <span class="co">// rgb(198, 45, 205)</span></span></code></pre></div>
<p>To fade the color slightly:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>c<span class="op">.</span><span class="at">opacity</span> <span class="op">=</span> <span class="fl">0.8</span><span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>c <span class="op">+</span> <span class="st">&quot;&quot;</span><span class="op">;</span> <span class="co">// rgba(198, 45, 205, 0.8)</span></span></code></pre></div>
<p>In addition to the ubiquitous and machine-friendly <a
href="#rgb">RGB</a> and <a href="#hsl">HSL</a> color space, d3-color
supports two color spaces that are designed for humans:</p>
<ul>
<li>Dave Green’s <a href="#cubehelix">Cubehelix</a></li>
<li><a href="#lab">Lab (CIELAB)</a> and <a href="#hcl">HCL
(CIELCH)</a></li>
</ul>
<p>Cubehelix features monotonic lightness, while Lab and HCL are
perceptually uniform. Note that HCL is the cylindrical form of Lab,
similar to how HSL is the cylindrical form of RGB.</p>
<h2 id="installing">Installing</h2>
<p>If you use NPM, <code>npm install d3-color</code>. Otherwise,
download the <a
href="https://github.com/d3/d3-color/releases/latest">latest
release</a>. You can also load directly from <a
href="https://d3js.org">d3js.org</a>, either as a <a
href="https://d3js.org/d3-color.v1.min.js">standalone library</a> or as
part of <a href="https://github.com/d3/d3">D3 4.0</a>. AMD, CommonJS,
and vanilla environments are supported. In vanilla, a <code>d3</code>
global is exported:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;https://d3js.org/d3-color.v1.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> steelblue <span class="op">=</span> d3<span class="op">.</span><span class="fu">rgb</span>(<span class="st">&quot;steelblue&quot;</span>)<span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<p><a href="https://tonicdev.com/npm/d3-color">Try d3-color in your
browser.</a></p>
<h2 id="api-reference">API Reference</h2>
<p><a name="color" href="#color">#</a> d3.<b>color</b>(<i>specifier</i>)
<a href="https://github.com/d3/d3-color/blob/master/src/color.js"
title="Source">&lt;&gt;</a></p>
<p>Parses the specified <a
href="http://www.w3.org/TR/css3-color/#colorunits">CSS Color Module
Level 3</a> <em>specifier</em> string, returning an <a
href="#rgb">RGB</a> or <a href="#hsl">HSL</a> color. If the specifier
was not valid, null is returned. Some examples:</p>
<ul>
<li><code>rgb(255, 255, 255)</code></li>
<li><code>rgb(10%, 20%, 30%)</code></li>
<li><code>rgba(255, 255, 255, 0.4)</code></li>
<li><code>rgba(10%, 20%, 30%, 0.4)</code></li>
<li><code>hsl(120, 50%, 20%)</code></li>
<li><code>hsla(120, 50%, 20%, 0.4)</code></li>
<li><code>#ffeeaa</code></li>
<li><code>#fea</code></li>
<li><code>steelblue</code></li>
</ul>
<p>The list of supported <a
href="http://www.w3.org/TR/SVG/types.html#ColorKeywords">named
colors</a> is specified by CSS.</p>
<p>Note: this function may also be used with <code>instanceof</code> to
test if an object is a color instance. The same is true of color
subclasses, allowing you to test whether a color is in a particular
color space.</p>
<p><a name="color_opacity" href="#color_opacity">#</a>
<em>color</em>.<b>opacity</b></p>
<p>This color’s opacity, typically in the range [0, 1].</p>
<p><a name="color_rgb" href="#color_rgb">#</a>
<em>color</em>.<b>rgb</b>() <a
href="https://github.com/d3/d3-color/blob/master/src/color.js#L209"
title="Source">&lt;&gt;</a></p>
<p>Returns the <a href="#rgb">RGB equivalent</a> of this color. For RGB
colors, that’s <code>this</code>.</p>
<p><a name="color_brighter" href="#color_brighter">#</a>
<em>color</em>.<b>brighter</b>([<i>k</i>]) <a
href="https://github.com/d3/d3-color/blob/master/src/color.js#L221"
title="Source">&lt;&gt;</a></p>
<p>Returns a brighter copy of this color. If <em>k</em> is specified, it
controls how much brighter the returned color should be. If <em>k</em>
is not specified, it defaults to 1. The behavior of this method is
dependent on the implementing color space.</p>
<p><a name="color_darker" href="#color_darker">#</a>
<em>color</em>.<b>darker</b>([<i>k</i>]) <a
href="https://github.com/d3/d3-color/blob/master/src/color.js#L225"
title="Source">&lt;&gt;</a></p>
<p>Returns a darker copy of this color. If <em>k</em> is specified, it
controls how much darker the returned color should be. If <em>k</em> is
not specified, it defaults to 1. The behavior of this method is
dependent on the implementing color space.</p>
<p><a name="color_displayable" href="#color_displayable">#</a>
<em>color</em>.<b>displayable</b>() <a
href="https://github.com/d3/d3-color/blob/master/src/color.js#L169"
title="Source">&lt;&gt;</a></p>
<p>Returns true if and only if the color is displayable on standard
hardware. For example, this returns false for an RGB color if any
channel value is less than zero or greater than 255, or if the opacity
is not in the range [0, 1].</p>
<p><a name="color_toString" href="#color_toString">#</a>
<em>color</em>.<b>toString</b>() <a
href="https://github.com/d3/d3-color/blob/master/src/color.js#L172"
title="Source">&lt;&gt;</a></p>
<p>Returns a string representing this color according to the <a
href="https://drafts.csswg.org/cssom/#serialize-a-css-component-value">CSS
Object Model specification</a>, such as <code>rgb(247, 234, 186)</code>.
If this color is not displayable, a suitable displayable color is
returned instead. For example, RGB channel values greater than 255 are
clamped to 255.</p>
<p><a name="rgb" href="#rgb">#</a> d3.<b>rgb</b>(<i>r</i>, <i>g</i>,
<i>b</i>[, <i>opacity</i>]) <a
href="https://github.com/d3/d3-color/blob/master/src/color.js#L209"
title="Source">&lt;&gt;</a><br> <a href="#rgb">#</a>
d3.<b>rgb</b>(<i>specifier</i>)<br> <a href="#rgb">#</a>
d3.<b>rgb</b>(<i>color</i>)<br></p>
<p>Constructs a new <a
href="https://en.wikipedia.org/wiki/RGB_color_model">RGB</a> color. The
channel values are exposed as <code>r</code>, <code>g</code> and
<code>b</code> properties on the returned instance. Use the <a
href="http://bl.ocks.org/mbostock/78d64ca7ef013b4dcf8f">RGB color
picker</a> to explore this color space.</p>
<p>If <em>r</em>, <em>g</em> and <em>b</em> are specified, these
represent the channel values of the returned color; an <em>opacity</em>
may also be specified. If a CSS Color Module Level 3 <em>specifier</em>
string is specified, it is parsed and then converted to the RGB color
space. See <a href="#color">color</a> for examples. If a <a
href="#color"><em>color</em></a> instance is specified, it is converted
to the RGB color space using <a
href="#color_rgb"><em>color</em>.rgb</a>. Note that unlike <a
href="#color_rgb"><em>color</em>.rgb</a> this method <em>always</em>
returns a new instance, even if <em>color</em> is already an RGB
color.</p>
<p><a name="hsl" href="#hsl">#</a> d3.<b>hsl</b>(<i>h</i>, <i>s</i>,
<i>l</i>[, <i>opacity</i>]) <a
href="https://github.com/d3/d3-color/blob/master/src/color.js#L281"
title="Source">&lt;&gt;</a><br> <a href="#hsl">#</a>
d3.<b>hsl</b>(<i>specifier</i>)<br> <a href="#hsl">#</a>
d3.<b>hsl</b>(<i>color</i>)<br></p>
<p>Constructs a new <a
href="https://en.wikipedia.org/wiki/HSL_and_HSV">HSL</a> color. The
channel values are exposed as <code>h</code>, <code>s</code> and
<code>l</code> properties on the returned instance. Use the <a
href="http://bl.ocks.org/mbostock/debaad4fcce9bcee14cf">HSL color
picker</a> to explore this color space.</p>
<p>If <em>h</em>, <em>s</em> and <em>l</em> are specified, these
represent the channel values of the returned color; an <em>opacity</em>
may also be specified. If a CSS Color Module Level 3 <em>specifier</em>
string is specified, it is parsed and then converted to the HSL color
space. See <a href="#color">color</a> for examples. If a <a
href="#color"><em>color</em></a> instance is specified, it is converted
to the RGB color space using <a href="#color_rgb"><em>color</em>.rgb</a>
and then converted to HSL. (Colors already in the HSL color space skip
the conversion to RGB.)</p>
<p><a name="lab" href="#lab">#</a> d3.<b>lab</b>(<i>l</i>, <i>a</i>,
<i>b</i>[, <i>opacity</i>]) <a
href="https://github.com/d3/d3-color/blob/master/src/lab.js#L30"
title="Source">&lt;&gt;</a><br> <a href="#lab">#</a>
d3.<b>lab</b>(<i>specifier</i>)<br> <a href="#lab">#</a>
d3.<b>lab</b>(<i>color</i>)<br></p>
<p>Constructs a new <a
href="https://en.wikipedia.org/wiki/Lab_color_space#CIELAB">Lab</a>
color. The channel values are exposed as <code>l</code>, <code>a</code>
and <code>b</code> properties on the returned instance. Use the <a
href="http://bl.ocks.org/mbostock/9f37cc207c0cb166921b">Lab color
picker</a> to explore this color space.</p>
<p>If <em>l</em>, <em>a</em> and <em>b</em> are specified, these
represent the channel values of the returned color; an <em>opacity</em>
may also be specified. If a CSS Color Module Level 3 <em>specifier</em>
string is specified, it is parsed and then converted to the Lab color
space. See <a href="#color">color</a> for examples. If a <a
href="#color"><em>color</em></a> instance is specified, it is converted
to the RGB color space using <a href="#color_rgb"><em>color</em>.rgb</a>
and then converted to Lab. (Colors already in the Lab color space skip
the conversion to RGB, and colors in the HCL color space are converted
directly to Lab.)</p>
<p><a name="hcl" href="#hcl">#</a> d3.<b>hcl</b>(<i>h</i>, <i>c</i>,
<i>l</i>[, <i>opacity</i>]) <a
href="https://github.com/d3/d3-color/blob/master/src/lab.js#L87"
title="Source">&lt;&gt;</a><br> <a href="#hcl">#</a>
d3.<b>hcl</b>(<i>specifier</i>)<br> <a href="#hcl">#</a>
d3.<b>hcl</b>(<i>color</i>)<br></p>
<p>Constructs a new <a
href="https://en.wikipedia.org/wiki/Lab_color_space#CIELAB">HCL</a>
color. The channel values are exposed as <code>h</code>, <code>c</code>
and <code>l</code> properties on the returned instance. Use the <a
href="http://bl.ocks.org/mbostock/3e115519a1b495e0bd95">HCL color
picker</a> to explore this color space.</p>
<p>If <em>h</em>, <em>c</em> and <em>l</em> are specified, these
represent the channel values of the returned color; an <em>opacity</em>
may also be specified. If a CSS Color Module Level 3 <em>specifier</em>
string is specified, it is parsed and then converted to the HCL color
space. See <a href="#color">color</a> for examples. If a <a
href="#color"><em>color</em></a> instance is specified, it is converted
to the RGB color space using <a href="#color_rgb"><em>color</em>.rgb</a>
and then converted to HCL. (Colors already in the HCL color space skip
the conversion to RGB, and colors in the Lab color space are converted
directly to HCL.)</p>
<p><a name="cubehelix" href="#cubehelix">#</a>
d3.<b>cubehelix</b>(<i>h</i>, <i>s</i>, <i>l</i>[, <i>opacity</i>]) <a
href="https://github.com/d3/d3-color/blob/master/src/cubehelix.js#L32"
title="Source">&lt;&gt;</a><br> <a href="#cubehelix">#</a>
d3.<b>cubehelix</b>(<i>specifier</i>)<br> <a href="#cubehelix">#</a>
d3.<b>cubehelix</b>(<i>color</i>)<br></p>
<p>Constructs a new <a
href="https://www.mrao.cam.ac.uk/~dag/CUBEHELIX/">Cubehelix</a> color.
The channel values are exposed as <code>h</code>, <code>s</code> and
<code>l</code> properties on the returned instance. Use the <a
href="http://bl.ocks.org/mbostock/ba8d75e45794c27168b5">Cubehelix color
picker</a> to explore this color space.</p>
<p>If <em>h</em>, <em>s</em> and <em>l</em> are specified, these
represent the channel values of the returned color; an <em>opacity</em>
may also be specified. If a CSS Color Module Level 3 <em>specifier</em>
string is specified, it is parsed and then converted to the Cubehelix
color space. See <a href="#color">color</a> for examples. If a <a
href="#color"><em>color</em></a> instance is specified, it is converted
to the RGB color space using <a href="#color_rgb"><em>color</em>.rgb</a>
and then converted to Cubehelix. (Colors already in the Cubehelix color
space skip the conversion to RGB.)</p>
</body>
</html>
